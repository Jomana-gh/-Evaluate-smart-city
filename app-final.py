from flask import Flask, jsonify, request
from flask_cors import CORS

app = Flask(__name__)
CORS(app)

# البيانات
data = [
 {
  "Neighborhood": "الجرادية",
  "Latitude_x": 24.6153406751687,
  "Longitude_x": 46.698203086853,
  "Population_x": 24858,
  "Area_km2": 1.33,
  "CDD": 16.68421052631579,
  "Cooling_Score_per_km2": 1668.421052631579,
  "Weighted_Score": 2,
  "Region": "Central",
  "HCI": 8.045699573577922,
  "metro": 1,
  "bus": 5,
  "public_stations": 6,
  "population_density": 18690.225563909775,
  "HDD": 3.781954887218045
 },
 {
  "Neighborhood": "الدريهمية",
  "Latitude_x": 24.5895878634126,
  "Longitude_x": 46.6964435577392,
  "Population_x": 12087,
  "Area_km2": 1.69,
  "CDD": 13.1301775147929,
  "Cooling_Score_per_km2": 1313.01775147929,
  "Weighted_Score": 0.5,
  "Region": "Central",
  "HCI": 4.136675767353355,
  "metro": 0,
  "bus": 9,
  "public_stations": 9,
  "population_density": 7152.07100591716,
  "HDD": 2.976331360946746
 },
 {
  "Neighborhood": "الشميسي",
  "Latitude_x": 24.624860069416,
  "Longitude_x": 46.6999197006225,
  "Population_x": 32090,
  "Area_km2": 1.47,
  "CDD": 15.0952380952381,
  "Cooling_Score_per_km2": 1509.52380952381,
  "Weighted_Score": 6,
  "Region": "Central",
  "HCI": 18.69741352446245,
  "metro": 0,
  "bus": 9,
  "public_stations": 9,
  "population_density": 21829.931972789116,
  "HDD": 3.421768707482993
 },
 {
  "Neighborhood": "الصالحية",
  "Latitude_x": 20.4423748348717,
  "Longitude_x": 44.8508262634277,
  "Population_x": 10586,
  "Area_km2": 0.67,
  "CDD": 33.11940298507463,
  "Cooling_Score_per_km2": 3311.940298507463,
  "Weighted_Score": 3,
  "Region": "Central",
  "HCI": 28.33931607783865,
  "metro": 1,
  "bus": 4,
  "public_stations": 5,
  "population_density": 15799.999999999998,
  "HDD": 7.507462686567163
 },
 {
  "Neighborhood": "الصفا",
  "Latitude_x": 24.6665183931274,
  "Longitude_x": 46.7651939392089,
  "Population_x": 6442,
  "Area_km2": 5.36,
  "CDD": 4.139925373134329,
  "Cooling_Score_per_km2": 413.9925373134328,
  "Weighted_Score": 1,
  "Region": "Central",
  "HCI": 15.52312946289972,
  "metro": 1,
  "bus": 8,
  "public_stations": 9,
  "population_density": 1201.8656716417909,
  "HDD": 0.9384328358208954
 },
 {
  "Neighborhood": "الضباط",
  "Latitude_x": 23.9000809701916,
  "Longitude_x": 42.9131555557251,
  "Population_x": 22453,
  "Area_km2": 2.31,
  "CDD": 9.606060606060606,
  "Cooling_Score_per_km2": 960.6060606060606,
  "Weighted_Score": 2,
  "Region": "Central",
  "HCI": 8.907495657595867,
  "metro": 3,
  "bus": 17,
  "public_stations": 20,
  "population_density": 9719.91341991342,
  "HDD": 2.177489177489177
 },
 {
  "Neighborhood": "العزيزية",
  "Latitude_x": 24.5888073924505,
  "Longitude_x": 46.7693138122558,
  "Population_x": 175897,
  "Area_km2": 20.77,
  "CDD": 1.068367838228214,
  "Cooling_Score_per_km2": 106.8367838228214,
  "Weighted_Score": 1,
  "Region": "Central",
  "HCI": 0.5685145283887729,
  "metro": 1,
  "bus": 94,
  "public_stations": 95,
  "population_density": 8468.80115551276,
  "HDD": 0.24217621569571499
 },
 {
  "Neighborhood": "العمل",
  "Latitude_x": 24.6458859977891,
  "Longitude_x": 46.7228364944458,
  "Population_x": 20513,
  "Area_km2": 1.26,
  "CDD": 17.61111111111111,
  "Cooling_Score_per_km2": 1761.111111111111,
  "Weighted_Score": 1,
  "Region": "Central",
  "HCI": 4.874957344123239,
  "metro": 0,
  "bus": 11,
  "public_stations": 11,
  "population_density": 16280.15873015873,
  "HDD": 3.992063492063492
 },
 {
  "Neighborhood": "الفوطة",
  "Latitude_x": 24.6414392504897,
  "Longitude_x": 46.7101335525512,
  "Population_x": 15526,
  "Area_km2": 1.11,
  "CDD": 19.99099099099099,
  "Cooling_Score_per_km2": 1999.099099099099,
  "Weighted_Score": 6,
  "Region": "Central",
  "HCI": 38.64485379363648,
  "metro": 1,
  "bus": 26,
  "public_stations": 27,
  "population_density": 13987.387387387385,
  "HDD": 4.531531531531531
 },
 {
  "Neighborhood": "المربع",
  "Latitude_x": 24.6598883166224,
  "Longitude_x": 46.7083740234375,
  "Population_x": 58068,
  "Area_km2": 4.87,
  "CDD": 4.556468172484601,
  "Cooling_Score_per_km2": 455.64681724846,
  "Weighted_Score": 8.5,
  "Region": "Central",
  "HCI": 14.63801060825239,
  "metro": 3,
  "bus": 61,
  "public_stations": 64,
  "population_density": 11923.613963039013,
  "HDD": 1.0328542094455853
 },
 {
  "Neighborhood": "المرقب",
  "Latitude_x": 24.6357050531827,
  "Longitude_x": 46.7233085632324,
  "Population_x": 27452,
  "Area_km2": 0.89,
  "CDD": 24.93258426966292,
  "Cooling_Score_per_km2": 2493.258426966292,
  "Weighted_Score": 1,
  "Region": "Central",
  "HCI": 3.642721841760163,
  "metro": 3,
  "bus": 5,
  "public_stations": 8,
  "population_density": 30844.94382022472,
  "HDD": 5.651685393258427
 },
 {
  "Neighborhood": "المعذر",
  "Latitude_x": 24.6674543755495,
  "Longitude_x": 46.6725826263427,
  "Population_x": 16529,
  "Area_km2": 3.19,
  "CDD": 6.956112852664577,
  "Cooling_Score_per_km2": 695.6112852664577,
  "Weighted_Score": 2,
  "Region": "Central",
  "HCI": 12.09994555024502,
  "metro": 0,
  "bus": 33,
  "public_stations": 33,
  "population_density": 5181.504702194357,
  "HDD": 1.5768025078369905
 },
 {
  "Neighborhood": "الملز",
  "Latitude_x": 24.6626963920294,
  "Longitude_x": 46.7348098754882,
  "Population_x": 93066,
  "Area_km2": 8.74,
  "CDD": 2.538901601830663,
  "Cooling_Score_per_km2": 253.8901601830663,
  "Weighted_Score": 11,
  "Region": "Central",
  "HCI": 11.81956890808673,
  "metro": 3,
  "bus": 67,
  "public_stations": 70,
  "population_density": 10648.283752860412,
  "HDD": 0.5755148741418764
 },
 {
  "Neighborhood": "المنصورة",
  "Latitude_x": 24.6087859168807,
  "Longitude_x": 46.7424488067627,
  "Population_x": 68836,
  "Area_km2": 5.9,
  "CDD": 3.761016949152542,
  "Cooling_Score_per_km2": 376.1016949152542,
  "Weighted_Score": 5,
  "Region": "Central",
  "HCI": 7.26364111801964,
  "metro": 2,
  "bus": 36,
  "public_stations": 38,
  "population_density": 11667.118644067796,
  "HDD": 0.8525423728813558
 },
 {
  "Neighborhood": "الوزارات",
  "Latitude_x": 24.6782176686378,
  "Longitude_x": 46.7137813568115,
  "Population_x": 65790,
  "Area_km2": 2.29,
  "CDD": 9.68995633187773,
  "Cooling_Score_per_km2": 968.9956331877729,
  "Weighted_Score": 1,
  "Region": "Central",
  "HCI": 1.519987840097279,
  "metro": 3,
  "bus": 25,
  "public_stations": 28,
  "population_density": 28729.2576419214,
  "HDD": 2.1965065502183405
 },
 {
  "Neighborhood": "الوشام",
  "Latitude_x": 24.642024357864,
  "Longitude_x": 46.6977739334106,
  "Population_x": 16493,
  "Area_km2": 1.17,
  "CDD": 18.96581196581197,
  "Cooling_Score_per_km2": 1896.581196581197,
  "Weighted_Score": 2,
  "Region": "Central",
  "HCI": 12.12635663614867,
  "metro": 0,
  "bus": 16,
  "public_stations": 16,
  "population_density": 14096.581196581197,
  "HDD": 4.2991452991453
 },
 {
  "Neighborhood": "اليمامة",
  "Latitude_x": 24.5953631973174,
  "Longitude_x": 46.7166566848754,
  "Population_x": 38382,
  "Area_km2": 2.69,
  "CDD": 8.24907063197026,
  "Cooling_Score_per_km2": 824.907063197026,
  "Weighted_Score": 2,
  "Region": "Central",
  "HCI": 5.210775884529206,
  "metro": 0,
  "bus": 27,
  "public_stations": 27,
  "population_density": 14268.401486988849,
  "HDD": 1.8698884758364311
 },
 {
  "Neighborhood": "عليشة",
  "Latitude_x": 24.6317650780034,
  "Longitude_x": 46.6855859756469,
  "Population_x": 8150,
  "Area_km2": 2.22,
  "CDD": 9.995495495495495,
  "Cooling_Score_per_km2": 999.5495495495495,
  "Weighted_Score": 1,
  "Region": "Central",
  "HCI": 12.26993865030675,
  "metro": 0,
  "bus": 18,
  "public_stations": 18,
  "population_density": 3671.171171171171,
  "HDD": 2.2657657657657655
 },
 {
  "Neighborhood": "منفوحة",
  "Latitude_x": 24.5998115836586,
  "Longitude_x": 46.7286300659179,
  "Population_x": 39942,
  "Area_km2": 2.46,
  "CDD": 9.020325203252032,
  "Cooling_Score_per_km2": 902.0325203252032,
  "Weighted_Score": 5.5,
  "Region": "Central",
  "HCI": 13.76996645135446,
  "metro": 1,
  "bus": 23,
  "public_stations": 24,
  "population_density": 16236.585365853658,
  "HDD": 2.0447154471544717
 },
 {
  "Neighborhood": "الحمراء",
  "Latitude_x": 24.7755130507573,
  "Longitude_x": 46.7527484893798,
  "Population_x": 53967,
  "Area_km2": 8.27,
  "CDD": 2.6831922611850056,
  "Cooling_Score_per_km2": 268.3192261185006,
  "Weighted_Score": 14,
  "Region": "East",
  "HCI": 25.94177923545871,
  "metro": 3,
  "bus": 17,
  "public_stations": 20,
  "population_density": 6525.634824667473,
  "HDD": 0.6082224909310763
 },
 {
  "Neighborhood": "الخليج",
  "Latitude_x": 24.7767599332191,
  "Longitude_x": 46.8039894104003,
  "Population_x": 98961,
  "Area_km2": 10.32,
  "CDD": 2.150193798449612,
  "Cooling_Score_per_km2": 215.0193798449612,
  "Weighted_Score": 7,
  "Region": "East",
  "HCI": 7.073493598488294,
  "metro": 3,
  "bus": 31,
  "public_stations": 34,
  "population_density": 9589.244186046511,
  "HDD": 0.48740310077519383
 },
 {
  "Neighborhood": "الروضة",
  "Latitude_x": 24.7345408027091,
  "Longitude_x": 46.7675399762811,
  "Population_x": 99115,
  "Area_km2": 8.73,
  "CDD": 2.541809851088202,
  "Cooling_Score_per_km2": 254.1809851088202,
  "Weighted_Score": 5,
  "Region": "East",
  "HCI": 5.044645109216567,
  "metro": 0,
  "bus": 55,
  "public_stations": 55,
  "population_density": 11353.379152348223,
  "HDD": 0.5761741122565864
 },
 {
  "Neighborhood": "السعادة",
  "Latitude_x": 24.6957905157774,
  "Longitude_x": 46.8400669080438,
  "Population_x": 83187,
  "Area_km2": 9.25,
  "CDD": 2.398918918918919,
  "Cooling_Score_per_km2": 239.8918918918919,
  "Weighted_Score": 2,
  "Region": "East",
  "HCI": 2.404221813504514,
  "metro": 2,
  "bus": 0,
  "public_stations": 2,
  "population_density": 8993.18918918919,
  "HDD": 0.5437837837837838
 },
 {
  "Neighborhood": "السلام",
  "Latitude_x": 24.7071751510521,
  "Longitude_x": 46.8113136274041,
  "Population_x": 50079,
  "Area_km2": 5.62,
  "CDD": 3.948398576512456,
  "Cooling_Score_per_km2": 394.8398576512456,
  "Weighted_Score": 4,
  "Region": "East",
  "HCI": 7.987379939695282,
  "metro": 2,
  "bus": 32,
  "public_stations": 34,
  "population_density": 8910.85409252669,
  "HDD": 0.895017793594306
 },
 {
  "Neighborhood": "السلي",
  "Latitude_x": 24.6501895671014,
  "Longitude_x": 46.8445587123278,
  "Population_x": 42558,
  "Area_km2": 34.6,
  "CDD": 0.6413294797687861,
  "Cooling_Score_per_km2": 64.13294797687861,
  "Weighted_Score": 2,
  "Region": "East",
  "HCI": 4.699468960007519,
  "metro": 0,
  "bus": 18,
  "public_stations": 18,
  "population_density": 1230,
  "HDD": 0.1453757225433526
 },
 {
  "Neighborhood": "الفيحاء",
  "Latitude_x": 24.6821431780259,
  "Longitude_x": 46.8115711194696,
  "Population_x": 58107,
  "Area_km2": 5.41,
  "CDD": 4.101663585951941,
  "Cooling_Score_per_km2": 410.1663585951941,
  "Weighted_Score": 1,
  "Region": "East",
  "HCI": 1.720963050923297,
  "metro": 1,
  "bus": 14,
  "public_stations": 15,
  "population_density": 10740.665434380777,
  "HDD": 0.9297597042513863
 },
 {
  "Neighborhood": "القدس",
  "Latitude_x": 24.7550416052902,
  "Longitude_x": 46.7548370343865,
  "Population_x": 41637,
  "Area_km2": 5.22,
  "CDD": 4.2509578544061295,
  "Cooling_Score_per_km2": 425.095785440613,
  "Weighted_Score": 13,
  "Region": "East",
  "HCI": 31.22223022792228,
  "metro": 1,
  "bus": 30,
  "public_stations": 31,
  "population_density": 7976.436781609195,
  "HDD": 0.96360153256705
 },
 {
  "Neighborhood": "المونسية",
  "Latitude_x": 24.832545095559,
  "Longitude_x": 46.7694854736328,
  "Population_x": 130215,
  "Area_km2": 16.48,
  "CDD": 1.346480582524272,
  "Cooling_Score_per_km2": 134.6480582524272,
  "Weighted_Score": 5,
  "Region": "East",
  "HCI": 3.839803402065814,
  "metro": 0,
  "bus": 24,
  "public_stations": 24,
  "population_density": 7901.395631067961,
  "HDD": 0.30521844660194175
 },
 {
  "Neighborhood": "النزهة",
  "Latitude_x": 24.7568862534516,
  "Longitude_x": 46.7083740234375,
  "Population_x": 27415,
  "Area_km2": 4.1,
  "CDD": 5.412195121951219,
  "Cooling_Score_per_km2": 541.219512195122,
  "Weighted_Score": 2,
  "Region": "East",
  "HCI": 7.295276308590188,
  "metro": 1,
  "bus": 34,
  "public_stations": 35,
  "population_density": 6686.585365853659,
  "HDD": 1.226829268292683
 },
 {
  "Neighborhood": "النسيم الشرقي",
  "Latitude_x": 24.7404393537219,
  "Longitude_x": 46.8463897705078,
  "Population_x": 139943,
  "Area_km2": 13.69,
  "CDD": 1.620891161431702,
  "Cooling_Score_per_km2": 162.0891161431702,
  "Weighted_Score": 15,
  "Region": "East",
  "HCI": 10.71864973596393,
  "metro": 3,
  "bus": 31,
  "public_stations": 34,
  "population_density": 10222.27903579255,
  "HDD": 0.36742147552958365
 },
 {
  "Neighborhood": "النسيم الغربي",
  "Latitude_x": 24.7251597155687,
  "Longitude_x": 46.8213272094726,
  "Population_x": 159949,
  "Area_km2": 12.66,
  "CDD": 1.752764612954186,
  "Cooling_Score_per_km2": 175.2764612954186,
  "Weighted_Score": 18,
  "Region": "East",
  "HCI": 11.25358708088203,
  "metro": 2,
  "bus": 40,
  "public_stations": 42,
  "population_density": 12634.202211690363,
  "HDD": 0.3973143759873618
 },
 {
  "Neighborhood": "النهضة",
  "Latitude_x": 24.7605494844649,
  "Longitude_x": 46.8157482147216,
  "Population_x": 99091,
  "Area_km2": 10.75,
  "CDD": 2.064186046511628,
  "Cooling_Score_per_km2": 206.4186046511628,
  "Weighted_Score": 13,
  "Region": "East",
  "HCI": 13.11925401903301,
  "metro": 1,
  "bus": 52,
  "public_stations": 53,
  "population_density": 9217.767441860466,
  "HDD": 0.467906976744186
 },
 {
  "Neighborhood": "اليرموك",
  "Latitude_x": 24.8085512029618,
  "Longitude_x": 46.7813301086425,
  "Population_x": 100677,
  "Area_km2": 9.2,
  "CDD": 2.411956521739131,
  "Cooling_Score_per_km2": 241.1956521739131,
  "Weighted_Score": 3,
  "Region": "East",
  "HCI": 2.979826574093388,
  "metro": 1,
  "bus": 29,
  "public_stations": 30,
  "population_density": 10943.152173913044,
  "HDD": 0.5467391304347826
 },
 {
  "Neighborhood": "غرناطة",
  "Latitude_x": 24.7956954207652,
  "Longitude_x": 46.7524909973144,
  "Population_x": 33304,
  "Area_km2": 3.96,
  "CDD": 5.603535353535353,
  "Cooling_Score_per_km2": 560.3535353535353,
  "Weighted_Score": 10,
  "Region": "East",
  "HCI": 30.02642325246217,
  "metro": 2,
  "bus": 29,
  "public_stations": 31,
  "population_density": 8410.10101010101,
  "HDD": 1.27020202020202
 },
 {
  "Neighborhood": "قرطبة",
  "Latitude_x": 24.8150954527057,
  "Longitude_x": 46.7306900024414,
  "Population_x": 87548,
  "Area_km2": 14.08,
  "CDD": 1.5759943181818181,
  "Cooling_Score_per_km2": 157.5994318181818,
  "Weighted_Score": 10,
  "Region": "East",
  "HCI": 11.42230547813771,
  "metro": 0,
  "bus": 34,
  "public_stations": 34,
  "population_density": 6217.897727272727,
  "HDD": 0.3572443181818182
 },
 {
  "Neighborhood": "الربيع",
  "Latitude_x": 24.7952279126609,
  "Longitude_x": 46.6603088378906,
  "Population_x": 35054,
  "Area_km2": 5.66,
  "CDD": 3.920494699646643,
  "Cooling_Score_per_km2": 392.0494699646643,
  "Weighted_Score": 6,
  "Region": "North",
  "HCI": 17.11644890740001,
  "metro": 1,
  "bus": 36,
  "public_stations": 37,
  "population_density": 6193.286219081272,
  "HDD": 0.8886925795053002
 },
 {
  "Neighborhood": "السليمانية",
  "Latitude_x": 24.7013010187085,
  "Longitude_x": 46.7011642456054,
  "Population_x": 90252,
  "Area_km2": 8.04,
  "CDD": 2.7599502487562186,
  "Cooling_Score_per_km2": 275.9950248756219,
  "Weighted_Score": 6,
  "Region": "North",
  "HCI": 6.648052120728626,
  "metro": 4,
  "bus": 66,
  "public_stations": 70,
  "population_density": 11225.37313432836,
  "HDD": 0.6256218905472637
 },
 {
  "Neighborhood": "الصحافة",
  "Latitude_x": 24.7999029143993,
  "Longitude_x": 46.6376495361328,
  "Population_x": 52135,
  "Area_km2": 7.91,
  "CDD": 2.805309734513274,
  "Cooling_Score_per_km2": 280.5309734513274,
  "Weighted_Score": 7,
  "Region": "North",
  "HCI": 13.42668073271315,
  "metro": 1,
  "bus": 23,
  "public_stations": 24,
  "population_density": 6591.02402022756,
  "HDD": 0.6359039190897599
 },
 {
  "Neighborhood": "العارض",
  "Latitude_x": 24.8990492905417,
  "Longitude_x": 46.6036605834961,
  "Population_x": 81528,
  "Area_km2": 67.16,
  "CDD": 0.33040500297796305,
  "Cooling_Score_per_km2": 33.04050029779631,
  "Weighted_Score": 2,
  "Region": "North",
  "HCI": 2.453144931802571,
  "metro": 1,
  "bus": 6,
  "public_stations": 7,
  "population_density": 1213.936867182847,
  "HDD": 0.07489577129243598
 },
 {
  "Neighborhood": "العقيق",
  "Latitude_x": 24.7741882244189,
  "Longitude_x": 46.6302680969238,
  "Population_x": 53471,
  "Area_km2": 7.99,
  "CDD": 2.7772215269086358,
  "Cooling_Score_per_km2": 277.7221526908636,
  "Weighted_Score": 3.5,
  "Region": "North",
  "HCI": 6.545604159263901,
  "metro": 1,
  "bus": 18,
  "public_stations": 19,
  "population_density": 6692.240300375469,
  "HDD": 0.6295369211514393
 },
 {
  "Neighborhood": "العليا",
  "Latitude_x": 24.6977660049648,
  "Longitude_x": 46.6874885524157,
  "Population_x": 118753,
  "Area_km2": 10.84,
  "CDD": 2.0470479704797047,
  "Cooling_Score_per_km2": 204.7047970479705,
  "Weighted_Score": 22.5,
  "Region": "North",
  "HCI": 18.94688976278494,
  "metro": 5,
  "bus": 92,
  "public_stations": 97,
  "population_density": 10955.073800738008,
  "HDD": 0.4640221402214022
 },
 {
  "Neighborhood": "الغدير",
  "Latitude_x": 24.7734868400454,
  "Longitude_x": 46.6530132293701,
  "Population_x": 21308,
  "Area_km2": 4.6,
  "CDD": 4.823913043478261,
  "Cooling_Score_per_km2": 482.3913043478261,
  "Weighted_Score": 3,
  "Region": "North",
  "HCI": 14.07921907264877,
  "metro": 1,
  "bus": 0,
  "public_stations": 1,
  "population_density": 4632.173913043479,
  "HDD": 1.0934782608695652
 },
 {
  "Neighborhood": "المروج",
  "Latitude_x": 24.7574318478949,
  "Longitude_x": 46.6619396209716,
  "Population_x": 39391,
  "Area_km2": 4.72,
  "CDD": 4.701271186440678,
  "Cooling_Score_per_km2": 470.1271186440678,
  "Weighted_Score": 3,
  "Region": "North",
  "HCI": 7.615952882638166,
  "metro": 1,
  "bus": 6,
  "public_stations": 7,
  "population_density": 8345.550847457627,
  "HDD": 1.0656779661016949
 },
 {
  "Neighborhood": "النخيل",
  "Latitude_x": 24.7469871953963,
  "Longitude_x": 46.6371345520019,
  "Population_x": 2954763,
  "Area_km2": 9.78,
  "CDD": 2.268916155419223,
  "Cooling_Score_per_km2": 226.8916155419223,
  "Weighted_Score": 3,
  "Region": "North",
  "HCI": 0.1015309857338812,
  "metro": 0,
  "bus": 17,
  "public_stations": 17,
  "population_density": 302123.00613496936,
  "HDD": 0.5143149284253579
 },
 {
  "Neighborhood": "النرجس",
  "Latitude_x": 24.8874746283721,
  "Longitude_x": 46.6457176234689,
  "Population_x": 82800,
  "Area_km2": 48.83,
  "CDD": 0.4544337497440098,
  "Cooling_Score_per_km2": 45.44337497440098,
  "Weighted_Score": 2.5,
  "Region": "North",
  "HCI": 3.019323671497585,
  "metro": 0,
  "bus": 23,
  "public_stations": 23,
  "population_density": 1695.6788859307803,
  "HDD": 0.10301044439893509
 },
 {
  "Neighborhood": "النفل",
  "Latitude_x": 24.7818772146736,
  "Longitude_x": 46.6731834424717,
  "Population_x": 49438,
  "Area_km2": 3.99,
  "CDD": 5.56140350877193,
  "Cooling_Score_per_km2": 556.140350877193,
  "Weighted_Score": 7.5,
  "Region": "North",
  "HCI": 15.17051660665885,
  "metro": 1,
  "bus": 11,
  "public_stations": 12,
  "population_density": 12390.476190476189,
  "HDD": 1.2606516290726817
 },
 {
  "Neighborhood": "الياسمين",
  "Latitude_x": 24.8282867769526,
  "Longitude_x": 46.6431427028146,
  "Population_x": 107229,
  "Area_km2": 12.72,
  "CDD": 1.744496855345912,
  "Cooling_Score_per_km2": 174.4496855345912,
  "Weighted_Score": 7,
  "Region": "North",
  "HCI": 6.528084753191767,
  "metro": 1,
  "bus": 31,
  "public_stations": 32,
  "population_density": 8429.952830188678,
  "HDD": 0.39544025157232704
 },
 {
  "Neighborhood": "حطين",
  "Latitude_x": 24.7626798228696,
  "Longitude_x": 46.6003990199533,
  "Population_x": 35795,
  "Area_km2": 18.18,
  "CDD": 1.220572057205721,
  "Cooling_Score_per_km2": 122.0572057205721,
  "Weighted_Score": 3,
  "Region": "North",
  "HCI": 8.381058807095963,
  "metro": 0,
  "bus": 0,
  "public_stations": 0,
  "population_density": 1968.9218921892189,
  "HDD": 0.27667766776677666
 },
 {
  "Neighborhood": "الحزم",
  "Latitude_x": 24.538586874203,
  "Longitude_x": 46.6460609449132,
  "Population_x": 58442,
  "Area_km2": 10.7,
  "CDD": 2.073831775700935,
  "Cooling_Score_per_km2": 207.3831775700935,
  "Weighted_Score": 9,
  "Region": "South",
  "HCI": 15.39988364532357,
  "metro": 0,
  "bus": 24,
  "public_stations": 24,
  "population_density": 5461.869158878505,
  "HDD": 0.4700934579439252
 },
 {
  "Neighborhood": "الدار البيضاء",
  "Latitude_x": 24.5644022119749,
  "Longitude_x": 46.791801455256,
  "Population_x": 157909,
  "Area_km2": 15.28,
  "CDD": 1.452225130890052,
  "Cooling_Score_per_km2": 145.2225130890052,
  "Weighted_Score": 17,
  "Region": "South",
  "HCI": 10.76569416562704,
  "metro": 1,
  "bus": 39,
  "public_stations": 40,
  "population_density": 10334.358638743455,
  "HDD": 0.32918848167539266
 },
 {
  "Neighborhood": "الروابي",
  "Latitude_x": 24.6956605489743,
  "Longitude_x": 46.7902565015538,
  "Population_x": 572009,
  "Area_km2": 7.18,
  "CDD": 3.090529247910864,
  "Cooling_Score_per_km2": 309.0529247910864,
  "Weighted_Score": 2,
  "Region": "South",
  "HCI": 0.3496448482453947,
  "metro": 2,
  "bus": 40,
  "public_stations": 42,
  "population_density": 79666.99164345404,
  "HDD": 0.7005571030640669
 },
 {
  "Neighborhood": "الشفا",
  "Latitude_x": 24.5646624209821,
  "Longitude_x": 46.7002201093419,
  "Population_x": 70513,
  "Area_km2": 9.05,
  "CDD": 2.451933701657458,
  "Cooling_Score_per_km2": 245.1933701657458,
  "Weighted_Score": 4,
  "Region": "South",
  "HCI": 5.672712833094607,
  "metro": 0,
  "bus": 63,
  "public_stations": 63,
  "population_density": 7791.491712707182,
  "HDD": 0.5558011049723757
 },
 {
  "Neighborhood": "المروة",
  "Latitude_x": 24.5411634420028,
  "Longitude_x": 46.6758441938145,
  "Population_x": 17743,
  "Area_km2": 6.11,
  "CDD": 3.631751227495908,
  "Cooling_Score_per_km2": 363.1751227495908,
  "Weighted_Score": 2.5,
  "Region": "South",
  "HCI": 14.09006368708787,
  "metro": 0,
  "bus": 14,
  "public_stations": 14,
  "population_density": 2903.92798690671,
  "HDD": 0.8232405891980359
 },
 {
  "Neighborhood": "بدر",
  "Latitude_x": 24.5242716446829,
  "Longitude_x": 46.7270851161447,
  "Population_x": 116151,
  "Area_km2": 50.87,
  "CDD": 0.4362099469235306,
  "Cooling_Score_per_km2": 43.62099469235306,
  "Weighted_Score": 11,
  "Region": "South",
  "HCI": 9.470430732408675,
  "metro": 0,
  "bus": 61,
  "public_stations": 61,
  "population_density": 2283.2907411047768,
  "HDD": 0.09887949675643798
 },
 {
  "Neighborhood": "طيبة",
  "Latitude_x": 24.5437920063659,
  "Longitude_x": 46.8293952968088,
  "Population_x": 7162,
  "Area_km2": 25.49,
  "CDD": 0.870537465672813,
  "Cooling_Score_per_km2": 87.0537465672813,
  "Weighted_Score": 3,
  "Region": "South",
  "HCI": 41.88774085450991,
  "metro": 0,
  "bus": 15,
  "public_stations": 15,
  "population_density": 280.9729305610043,
  "HDD": 0.1973322871714398
 },
 {
  "Neighborhood": "عكاظ",
  "Latitude_x": 24.5127141604161,
  "Longitude_x": 46.6639137294259,
  "Population_x": 38410,
  "Area_km2": 16.15,
  "CDD": 1.3739938080495362,
  "Cooling_Score_per_km2": 137.3993808049536,
  "Weighted_Score": 5,
  "Region": "South",
  "HCI": 13.01744337412132,
  "metro": 0,
  "bus": 14,
  "public_stations": 14,
  "population_density": 2378.328173374613,
  "HDD": 0.31145510835913315
 },
 {
  "Neighborhood": "نمار",
  "Latitude_x": 24.5687996589949,
  "Longitude_x": 46.6778182996495,
  "Population_x": 17510,
  "Area_km2": 7.74,
  "CDD": 2.866925064599483,
  "Cooling_Score_per_km2": 286.6925064599483,
  "Weighted_Score": 5,
  "Region": "South",
  "HCI": 28.55511136493432,
  "metro": 0,
  "bus": 8,
  "public_stations": 8,
  "population_density": 2262.2739018087855,
  "HDD": 0.6498708010335917
 },
 {
  "Neighborhood": "السويدي",
  "Latitude_x": 24.5919812765652,
  "Longitude_x": 46.673598289708,
  "Population_x": 58475,
  "Area_km2": 6.25,
  "CDD": 3.5504000000000002,
  "Cooling_Score_per_km2": 355.04,
  "Weighted_Score": 4,
  "Region": "West",
  "HCI": 6.840530141085934,
  "metro": 0,
  "bus": 34,
  "public_stations": 34,
  "population_density": 9356,
  "HDD": 0.8048000000000001
 },
 {
  "Neighborhood": "سلطانة",
  "Latitude_x": 24.6037915847812,
  "Longitude_x": 46.6886758804321,
  "Population_x": 23951,
  "Area_km2": 2.55,
  "CDD": 8.701960784313727,
  "Cooling_Score_per_km2": 870.1960784313726,
  "Weighted_Score": 2,
  "Region": "West",
  "HCI": 8.35038202997787,
  "metro": 0,
  "bus": 22,
  "public_stations": 22,
  "population_density": 9392.549019607844,
  "HDD": 1.9725490196078435
 },
 {
  "Neighborhood": "شبرا",
  "Latitude_x": 24.5773078890174,
  "Longitude_x": 46.6692352308018,
  "Population_x": 39342,
  "Area_km2": 4.67,
  "CDD": 4.751605995717345,
  "Cooling_Score_per_km2": 475.1605995717345,
  "Weighted_Score": 3.5,
  "Region": "West",
  "HCI": 8.89634487316354,
  "metro": 0,
  "bus": 18,
  "public_stations": 18,
  "population_density": 8424.411134903641,
  "HDD": 1.0770877944325483
 },
 {
  "Neighborhood": "ظهرة لبن",
  "Latitude_x": 24.6289173005887,
  "Longitude_x": 46.543636318529,
  "Population_x": 237856,
  "Area_km2": 37.48,
  "CDD": 0.5920490928495198,
  "Cooling_Score_per_km2": 59.20490928495198,
  "Weighted_Score": 22.5,
  "Region": "West",
  "HCI": 9.459504910534104,
  "metro": 0,
  "bus": 74,
  "public_stations": 74,
  "population_density": 6346.211312700108,
  "HDD": 0.134204909284952
 }
]

@app.route('/api/neighborhoods-data')
def get_neighborhoods():
    # خذ اسم المؤشر من الرابط
    indicator = request.args.get('indicator', 'HCI')  # الافتراضي HCI

    valid_indicators = ['HCI', 'CDD', 'HDD', 'publict station']

    if indicator not in valid_indicators:
        return jsonify({"error": f"Invalid indicator: {indicator}"}), 400

    # رتب حسب المؤشر من الأعلى للأقل
    sorted_data = sorted(data, key=lambda x: x.get(indicator, 0), reverse=True)

    return jsonify(sorted_data)

if __name__ == '__main__':
    app.run(debug=True)


